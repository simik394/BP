Úvod -problém
![[BP/drafts/Zaměření.bp#Problém]]
Úvod -cíl
![[BP/drafts/Zaměření.bp#Cíl]]
Úvod -dílčí cíle
![[BP/drafts/Zaměření.bp#Dílčí cíle metody]]
Úvod -výstupy
- seznam pojmů asociovaných se skautskými programy v existujících bázích
- konceptuální model domény skautských programů
- infrastruktura pro bázi
- schema databáze

Úvod -přínosy

Úvod -struktura
S tím, že nejdříve v kapitole Metodika bude představen postup pro dosažení návrhu. Následně v teoretické části práce budou prezentovány výsledky výběru pojmů z modelované domény a výsledky výběru sw řešení pro ukládání a přístup k vybraným údajům. V části praktické pak bude představen navržený model, sestavený z pojmů získaných v rámci prvního dílčího cíle. Spolu se schématem pro databázi vybranou v rámci drůhého dílčího cíle. Nakonec v kapitole Diskuze bude provedeno zhodnocení dosažení stanovených cílů a posouzeny možnosti pro další práci.

# metodika v2
## pojmy
Abych zjistil jaké informace jsou relevantí pro zaznamenávání v bázi skautských programů, provedu analýzu literatury z této oblasti. Analyzovanou literaturu představují již existující báze, které poslouží zároveň jako inspirace svým obsahem a zároveň jako prostředek pro porovnání možností prohledávání s navrhovanou bází.
### zdroje
První z existujících bází je webová stránka 'chystamprogram.skaut.cz', jenž byla vytvořena organizací Junák - český skaut, která zároveň za celý obsah zcela zodpovídá. [[../../myDM/Zotero/LiteratureNotes/ChystamProgramOProjektu#^NMC5UM33aSNYTTS96]] 
Její předností je zaměření na výchovnou a rozvojovou hodnotu programů. To je především zprostředkováno díky možnosti zapisovat k jednotlivým programům jejich výchovný cíl. Ale také možností zapisovat, na který bod ve Stezce je program napojen. Což je dobré a užitečné proto, že Stezka nepředstavuje jen rámec pro děti, podle kterého by se mohly samy všestranně rozvíjet. Rovně ale jako pomůcka pro vedoucí, když připravují vhodný program pro nadcházející schůzku například. [[myDM/Zotero/LiteratureNotes/StezkyCestickyVlcat#^N5AJVIHJa43Y7SWYU]] 
Drobná nevýhoda však vyplývá z toho, že se jedná o veřejnou bázi za kterou zodpovídá samotná organizace Junák. A to sice, že pro zapsání nového programu, je potřeba být přihlášen skautským účtem ze skautIS a výsledný zápis musí být nejdříve ověřen jejich metodickým týmem. Což sice bude mít pravděpodobně pozitivní vliv na úroveň kvality zaznamenaného obsahu. Nicméně pro sdílení například programu, který je teprve připravován, to tak není vhodné řešení. Jako větší nedostatek však vnímám spíše omezenou možnost poskytování zpětné vazby, a komentářu k zapsaným programům. Jediná možnost hodnocení, je totiž zaslání svého hodnocení pouze soukromě autorovi daného programu. Což opět pro interní využití, které by mělo umožňovat sdílení obsahu a na něm následnou spolupráci, není vyloženě příhodné.

Druhou bázi k analýze pak představuje 'Velká encyklopedie her'. Ta je tvořena čtyřmi samostanými tituly vydanými mezi lety 1987-1988, napsanými panem Milošem Zapletalem. [ ] Jak už název napovídá, jeji zaměření je čistě na hry, které jsou nepochybně také součástí skautských programů, těm se nicméně věnuje velmi podrobně. Slovo "Velká" v názvu totiž nijak zvlášť nepřehání. Každá z knih má v průměru přibližně 600 stran, sice menšího formátu, ale i přesto se často vejdou i dvě hry na stránku.
Právě tento objem, pědstavuje hlavní pědnost tohoto zdroje. Jelikož vzhledem k době jeho vydání, existuje šance, že některé zapsané hry, nebudou již dnes pro děti zábavné. Avšak vzhledem ke zmíněnému objemu, by se musela od té doby změnit kompletně celé podstata dětských her, aby tento zdroj již nebyl relevantní, což tato práce nepředpokládá.
S rokem vydání encyklopedie souvisí však i další nevýhody, které přehlédnout nelze. Klíčovým nedostatekm jou značně limitované možnosti efektivního prohledávání, které jsou implicitním důsledkem tištěné formy báze. Hry jsou sice jednotlivými knihami rozděleny podle prostědí do kterého jsou vhodné a dále pak pomocí kapitol. Navíc každá hra má vedle názvu uvedeno specifické značení, popsané na začátků každé z knih, které poskytuje informace například o tom, pro jaký počet, nebo věk hráču je hra vhodná. Nicméně to pořád znamená, že je třeba záznamy procházet manuálně a vizuálně kontrolovat, zda chci o dané hře číst více. Nemluvě o tom, že doplňování zpětné vazby či komentářů rovněž není možné.

### analýza
Cílem analýzy těchto dvou zdrojů pak bude pro každý z nich zvlášť, zodpovědét následující dvě otázky.
- Jaké pojmy jsou využity bází k charakterizování zapsaných aktivit?
- Podle jakých pojmů umožňuje báze prohledávat?
Vzhledem k rozdílným strukturám analyzovaných bází, budou odpovědi na otázky v každěm případě získány lehce odlišným způsobem.

Nejsnažší zodpovězení umožňuje báze chystamprogam, jelikož poskytuje šablonu pro nové záznamy s pojmenovanými a popsanými prvky k vyplnění. Odpověd na první otázku je proto získána vypsáním názvů,jejich popisů, případně povolených hodnot pro všechny možné prvky ze šablony. K zodpovězení druhé jsou pak prohledýny poskytnuté filtry ve vrchní části stránky 'Hledat Aktivity' v této bázi a vypsány pojmy použité jako názvy parametrů umožňujících filtrování, stejně tak jejich přípustné hodnoty.

V případě tištěné encyklopedie je trochu problém, protože zápisy v ní nejsou na první pohled nijak systematicky strukturovány, kromě symbolického značení vedle názvů a svého zařazení do kapitol. Bylo by proto potřeba vybrat vzorek ze záznamů a na základě něj se pokusit určit jaká části se napříč záznamy vyskytují. Naštěstí jedna z encyklopedií zahrnuje ve své Úvodní kapitole část pojmenovanou "Jak zapisovat tradiční hry". Autor se v ní sice věnuje takzvaně tradičním dětským hrám. Tím má na mysli hry, které si děti hrají, ale jejich pravidla existují pouze jako sdílené vědomosti mezi hráči, nejsou však nikde popsána, tudíž je šance, že postupem času tyto hru upadnou v zapomění. Ač se autorova motivace liší od motivace této práce. Výčet parametrů relevantních pro hry, které v této části nabízí. Představuje podobně hodnotný zdroj, jako šablona pro zapisování v předchozí bázi. Pro získání odpovědi na první analytickou otázku proto budou vypsány pojmy právě z tohoto výčtu, nikoliv ze skutečně zapsaných her. Co se vyhledávání týče, to je zprostředkováno samotnými knihami, jejich kapitolami a symbolickým značením u záznamů, popsaným za začátku knih. Proto právě z těchto částí budou vypsány pojmy, které budou odpovědí na druhou z otázek.

## infrastruktura
Kromě údajů, které by se měly ukládat, je také zásadní otázkou, jak a kde budou záznamy skutečně uloženy. Toto rozhodnutí ovlivňuje mimo konceptuální model všechnu další práci. V této části bude určeno právě místo pro uložení záznamů, které by splňovalo podmínky definované cílem této práce. 
Kandidáty na uložiště jsou gDocs jakožto baseline, gSheets jakožto kompromis mezi databází a prostředím dokumentů. Třetím kandidátem je relační databáze MySQL. A nakonec databáze Neo4j jakožto reprezentace NoSQL. Všechny budou vyhodnoceny ze dvou hledisek (zápis, čtení). To znamená, že z jejich vyhodnocení získám dvě sady výsledků. 
### zápis
Podmínka pro zápis říká, že navržená báze má zachovat úroveň uživatelské zkušenosti, jako poskytuje aktuální řešení. Tím jsou gDocs, případně gSheets pro data jako seznam členů. K ani jedné z této variant, nepotřebuje uživatel téměř žádné nestandartní znalosti k tomu, aby informace zaznamenal. Pokud mu bude dán odkaz na dokument do kterého má zápis udělat, a pod jaký nadpis, mělo by to stačit každému. Jako kritérium pro vyhodnocení kandidátů z hlediska zápisu proto bude, zda vyžadují od uživatele znalost, jako například specifický jazyk k tomu, aby mohl zapisovat do uložiště. Pokud ano, nejsou pro návrh z hlediska zapisování do báze přijatelné.
### čtení
Z hlediska čtení, respektive možností prohledávání uloženého obsahu. Podmínka z cíle říká, že čtení má být efektivní. Měřeno rychlostí na získání výsledků a správností výsledků. To znamená absenci jak chyb kdy je zobrazen výsledek neobsahujicí hledaný obsah (false positive), tak chyb kdy obsah hledaný uživatelem není nalezen, ikdyž ve skutečnosti je zaznamenán a měl by se zobrazit (false negative). Z kandidátu tedy budou vyřazeni ti, kteří toto nesplňují.
Pro zbývající pak bude vyhodnoceno stanovené kritérium příjemnosti využití. Definované jako co nejnižší bariera pro nové uživatele, kterou potřebují překonat aby mohli bázi prohledávat. A jako počet funkcí, které daná báze nabízí v případě překonání této bariéry. Velikost bariéry pak bude měřena počtem znaků potřebných pro zadávání dotazů. A podle toho, zda k interakci s bází potřebuje uživatel sw třetích stran, pokud chce využít grafické rozhraní. Počet nabízených funkcionalit bude vyhodnocen na základě dokumentace daného sw.
Zbývající kandidáti tedy budou porovnání podle počtu znaků vyžadovaných k napsání dotazu, grafického rozhraní ve výchozí instalaci báze a podle objemu funkcí nabízených nad rámec základního čtení a zapisování. Vyhodnoceno bude nejdříve pořadí kandidátů podle každého z těchto tří kritérií zvlášť. Následně takto získané tři hodnoty pro kaďého z kandidátů budou sečteny a kandidát, který bude mít nejnižší výsledné číslo, protože se například podle každého kritéria umístnil na prvním místě, bude vybrán pro použití v navrhované bázi.

Vybraní kandidáti budou následně stručně představeni a bude ověřeno, že je možné na jejich základě možné postavit bázi, která jak specifikuje cíl práce. Nebude vyžadovat víc prostředků na provoz a údržbu než sama ušetří. To konkrétně bude provedeno pomocí nalezení způsobu jak eliminovat potřebu na ručně vykonávanou údržbu báze do stavu, kdy bude prohledávatelná a bude zobrazovat aktuální údaje. Při tomto hledání je vycházeno z předpokladu, že báze může ušetřit nějaký čas svým využitím, jen když nebude zároveň také vyžadovat čas na údržbu pro svojí správnou funkčnost. Rovněž by také neměla vyžadovat žádné finanční prostředky, jelikož vzhledem k neziskové povaze skauta není způsob, jak by se prostředky vydané na provoz takového systému mohly vrátit.
V případě nalezení takového způsobu, bude způsob popsán a jeho proveditelnost argumentována dokumentací daných nástrojů.

## Návrh
Nyní, se získanýmy pojmy tvořícími cílovou doménu, i reě prostředky, které realizaci jako takovou umožní. Je konečně čas na návrh. Ten bude v naprosté své většině získán pomocí UML, jakožto velmi dobře standartizovaného nástroje pro modelování struktury. Ve verzi 2.5.1 ze které aktuálně výcházím, má i celou druhou polovinu zaměřenou na stavy, chování, akce interakce, az případy užití. Ač velmi užitečná část, na její využití v této práci pravděpodobně nedojde z důvodu času a rozsahu práce.
### model pojmů
První využití UML bude, při tvorbě diagramu tříd. Který bude sestaven s pomocí nalezených pojmů a mých doménových znalostí, jakožto člena oddílu posledních 15 let a jako vedoucího posledních 6. Tvorba bude probíhat tak, že z nalezených pojmů budou vytvořeny třídy (v modelu obdélníky). Ty pak v modelovacím nástroji (draw.io) budou roztřízeny takovým způsobem, aby vzdálenost mezi každýma dvěma odpovídala přibližně jejich "příbuznosti", či podobnosti. Následně bude provedeno modelování povinných vztahů mezi třídami, počínaje hierarchiemi pojmů, respektive zachycení vztahů mezi specializovanými podtřídami a z nich generalizovanými třídami. Právě ve shlucích podobných pojmů budu modelování započato, protože mají nejvyšší pravděpodobnost na výskyt těchto hierarchických vztahů. Po vytvoření této struktury bude pokračováno modelováním volitelných vztahů mezi třídami.

Případně mohou být pro dosažení lepší srozumitelnosti modelu využity následující úpravy. Pokud by třída A měla stejný vztah k třídě B i C, bude vymodelována nová třída D, která bude generalizací tříd B a C. Bude tím pádem možné modelovat vztah pouze jednou. Podobná logika bude využita v případě že třída M bude mít vztah ke třídě N, ale ne vždy. Budou vytvořeny dvě podtřídy pro třídu N, první třída O, která bude mít povinný vztah se třídou M. A druhou třídu P, která tento vztah s M nemá.

Pro určenení dostatečné dokončenosti modelu pojmů na to, aby bylo možné přejít k návrhu schemata pro vlastní bázi, budou použity takzvané 'kompetenční otázky'. Jedná se o pojem využívaný například při tvorbě ontologií [ ], nebo i v případě modelování grafových dat například pro Neo4j [ ]. V obou případech pojem 'kompetenčních otázek' znamená otázky na které by vytvořená struktura "uměla odpovídat". Nejpochopitelnější je to na příkladu otázek pro bázi jako Neo4j, kdy je snadné si představit, že aby byla báze schopná vám vracet odpovědi na specifické dotazy, musí struktura uložených dat obsahovat všechny údaje potřebné k tomu, aby "uměla odpovědět". Proto se takto stanovené otázky následně užívají jako vodítko při modelování, jelikož pomáhají tvůrci udržet pozornost na zamýšleném účelu pro tvořenou bázi, model, či ontologii.

Konkrétní kompetenční otázky budou založeny na schopnostech existujících bází odpovídat. To znamená, že pokud umožňuje báze chystamprogram hledat aktivity podle toho, které oblasti Stezky odpovídají. Bude odvozená otázka: "Které aktivity jsou asociované s danou oblastí Stezky?". Pro model to tak znamená, že musí obsahovat asociaci mezi třídami oblast_Stezky a aktivita.
S pomocí těchto otázek tedy bude dokoknčeno definování modelované domény. Myšleno pro tuto itaraci. Jelikož strukturování znalostí je nutně iterativní proces, který nemá žádné jedno správné řešení. Ale závisí vždy na konkrétní aplikaci a plánovaných rozšířeních. [ ]
A konkrétní aplikace v tomto případě je prostředek pro náš oddíl, který by mu umožnil efektivně a příjemně vyhledávat ve sdílených záznamech. S podporou alespoň stejných možností parametrizace uložených programů, jako umožňují ostatní zmiňované implementace. Pokud tedy takového stavu bude dosaženo, výsledek bude popsán v kapitole 'Návrh konceptuálního modelu' praktické části práce. A přijde na řadu samotná báze a její struktura.
### db schema
Získání schematu databáze z konceptuálního modelu by bylo možné alespoň dvěma hlavními způsoby. První z nich by byl využitím poměrně jednoduchého algoritmu, který z logického relačního modelu vytvoří schema pro databázi grafovou [ ]. Jelikož i získání relačního modelu z již vytvořeného konceptuálního je velmi přímočaré, mohla by toto být snadná cesta k cíli. A pravděpodobně i je, nicméně takto vytvořený graf nebere v úvahu doporučení identifikovaná v několika oficiálních zdrojích Neo4j jako nejlepší praktiky pro modelování grafových dat, tak aby umožňovaly optimální využití. To znamená, že pravděpodobně bude následně ještě vyžadovat určité své části refaktorovat, aby využil naplno možností, které uložení v grafové struktuře nabízí. V rámci jazyka pro interakci s Neo4j existují i funkce pro snadné refaktorování uložené struktury, takže i to by bylo použitelné řešení. Vhodnější však v případě, že už by nějaká relační báze byla k dispozici, než v tomto.
Postup této práce se mírně liší v tom ohledu, že nejprve v teoretické části představí ony nejlepší praktiky pro modelování grafů. Které jsou popsány v dokumentaci Neo4j [ ], knize Graph Databases od vydavatelství OReilly věnující se rovněž databázi Neo4j [ ] a navíc ještě na blogu jednoho z developerů Neo4j na serveru Medium [ ]. Bude se jednat o sadu doporučení pro jednotlivé prvky grafu {lable, relation, property, node} jak by měly být optimálně využívány. A tyto doporučení aplikuje na konceptuální model vytvořený v praktické části. Výsledné schema grafové databáze získané transformací konceptuálního modelu bude následně prezentováno v kapitole praktické části 'Návrh schema databáze'. Dohromady spolu s popisem, která doporučení byla aplikována a na které části původního modelu.
## Ověření
Na závěr praktické části práce, bude provedena verifikace navržené infrastruktury, zda je v teoretické části popsaný způsob její realizace opravdu proveditelný. Navíc bude verifikována i funkcionalita navrženého schématu databáze, zda opravdu umožňuje takové prohledávání, jako by podle požadavků stanovených v této práci měl.

Ověření správnosti vybraných pojmů
Ověření správnosti konceptuálního modelu
### Ověření technické realizovatelnosti návržené infrastruktury
Verifikace realizovatelnosti navržené infrastruktury bude provedena pomocí experimentu. Prvním krokem v tomto experimentu pak bude definování klíčových prvků návrhu, a definování funkcionalit návrhu, které na těchto prvcích závisí. Druhým krokem potom bude implementace definovaných klíčových prvků a porovnání chování implementovaného systému s tím definovaným v prvním kroce experimentu. Pokud se tato chování nebudou lišit, bude to interpretováno jako důkaz, že návrh infrastruktury báze je proveditelný.

### Ověření vyhledávací funkcionality navrženého db schematu
Pro dokázání korektního převedení z konceptuálního modelu do schema databáze bude opět využito experimentu. Rovněž bude využita implementovaná databáze vytvořená v rámci ověření realizovatelnosti infrastruktury. Do této databáze budou nahrána vzorová data, které budou získána z existujících zápisů jak v bázi chystamprogram, tak Velké encyklopedie her. Následně na základě kompetenčních otázek použitých při tvorbě konceptuálního modelu, budou sesteveny dotazy v jazyce používaným databází a definovány očekávané výsledky, které by dotazy měly zobrazit na základě nahraných vzorových dat. Na závér budou zadány připravené dotazy do rozhraní implementované databáze a vrácené výsledky budou porovnány s těmi, které by se podle definice měly zobrazit. Pokud se tyto výsledky nebudou lišit, bude to interpretováno jako důkaz, že navržená báze splňuje podmínky na možnosti prohledávání stanovené cílem této práce.


